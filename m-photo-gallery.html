<link rel="import" href="../polymer/polymer.html" />
<link rel="stylesheet" href="../jgallery/dist/css/font-awesome.min.css" />
<link rel="stylesheet" href="../jgallery/dist/css/jgallery.min.css?v=1.5.0" />
<script src="/bower_components/jquery/dist/jquery.min.js"></script>
<script src="../jgallery/dist/js/jgallery.min.js"></script>
<script src="../jgallery/dist/js/touchswipe.min.js"></script>
<dom-module id="m-photo-gallery">
    <template>
        <style>

        </style>
        <audio id="backgroundMusic" src="[[soundTrack]]" autoplay="autoplay" loop="loop"></audio>
        <div id="gallery">
            <div class="album" data-jgallery-album-title="Album 1">
                <template is="dom-repeat" items="[[imageData]]">
                    <a href="[[item.url]]">
                        <img src="[[item.thumb]]" alt="[[item.alt]]" />
                    </a>
                </template>
            </div>
        </div>
    </template>
</dom-module>
<script>
Polymer({

    is: 'm-photo-gallery',

    properties: {

        soundTrack: {
            type: String,
            value: 'Yaaron-Dosti-Badi-Hi-Haseen-Hai-Guitar-Instrumental.mp3'
        },

        isMusicOn: {
            type: Boolean,
            value: true
        },

        imageData: {
            type: Array,
            value: [{
                url: 'images/large/cola-float-1.jpg',
                thumb: 'images/thumbs/cola-float-1.jpg',
                alt: 'cola float 1'
            }, {
                url: 'images/large/cola-float-2.jpg',
                thumb: 'images/thumbs/cola-float-2.jpg',
                alt: 'cola float 2'
            }, {
                url: 'images/large/cola-float-3.jpg',
                thumb: 'images/thumbs/cola-float-3.jpg',
                alt: 'cola float 3'
            }]
        },

        galleryOptions: {
            type: Object,
            value: {
                "transition": "rotateCubeLeftOut_rotateCubeLeftIn",
                "transitionBackward": "rotateCubeRightOut_rotateCubeRightIn",
                "transitionCols": "1",
                "transitionRows": "1",
                "thumbnailsPosition": "bottom",
                "thumbType": "image",
                "backgroundColor": "FFFFFF",
                "textColor": "000000",
                "mode": "full-screen",
                "slideshow": true,
                "slideshowAutostart": true,
                "slideshowInterval": '4s'
            }
        }

    },

    attached: function() {
        this._initGallery()
    },

    _initGallery: function() {

        var component = this;
        $("#gallery").jGallery(this.galleryOptions);
        $(window).keypress(function(e) {
            if (e.keyCode == 0 || e.keyCode == 32) {
                component.isMusicOn == true ? component.$.backgroundMusic.pause() : component.$.backgroundMusic.play();
                component.isMusicOn = !component.isMusicOn;
            }
        });
    }

});
</script>